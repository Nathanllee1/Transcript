(this.webpackJsonptranscode2=this.webpackJsonptranscode2||[]).push([[0],{25:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n.n(a),s=n(18),i=n.n(s),u=(n(25),n(11)),o=n(1),l=n.n(o),p=n(4),d=n(3),b=n(7),j=n(19),f=n.n(j);n(53);var m=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"slide",children:[Object(r.jsx)("video",{src:e.vid,width:"500",controls:!0}),Object(r.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sit amet purus gravida quis blandit. Velit aliquet sagittis id consectetur purus ut faucibus pulvinar elementum. Suspendisse faucibus interdum posuere lorem ipsum dolor. Tellus elementum sagittis vitae et leo. Orci ac auctor augue mauris augue neque gravida in. Blandit cursus risus at ultrices mi. Ac tortor vitae purus faucibus ornare suspendisse. Mauris sit amet massa vitae tortor condimentum. Dolor morbi non arcu risus quis. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci a. Risus sed vulputate odio ut enim blandit volutpat maecenas. Bibendum ut tristique et egestas quis ipsum suspendisse. Eget gravida cum sociis natoque penatibus et magnis. Feugiat vivamus at augue eget arcu. Etiam dignissim diam quis enim. Nunc sed blandit libero volutpat sed cras ornare arcu dui. Pharetra pharetra massa massa ultricies mi. Sit "})]}),Object(r.jsx)("div",{className:"divider"})]})};var v=function(){var e,t=Object(a.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("Upload"),o=Object(d.a)(i,2),j=o[0],v=o[1],O=Object(a.useState)(),x=Object(d.a)(O,2),g=x[0],h=x[1],w=Object(a.useState)(0),k=Object(d.a)(w,2),S=k[0],F=k[1],y=Object(a.useState)(),L=Object(d.a)(y,2),U=L[0],q=L[1],R=Object(a.useState)(),B=Object(d.a)(R,2),M=B[0],N=(B[1],Object(a.useState)()),C=Object(d.a)(N,2),E=C[0],D=(C[1],Object(a.useState)([])),P=Object(d.a)(D,2),T=P[0],I=P[1],A=Object(b.createFFmpeg)({log:!1}),J=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("Loading ffmpeg-core.js"),e.next=3,A.load();case 3:if(v("Start transcoding"),!U){e.next=13;break}return e.t0=A,e.next=8,Object(b.fetchFile)(U);case 8:return e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","vid.mp4",e.t1),t=A.FS("readFile","vid.mp4"),e.next=13,s(URL.createObjectURL(new Blob([t.buffer],{type:"video/mp4"})));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,c,s,i,u,o,p,d,j,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.load();case 2:return e.t0=A,e.next=5,Object(b.fetchFile)(U);case 5:e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","vid.mp4",e.t1),50,4,n=0,a=l.a.mark((function e(){var t,a,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],s=Y(n),e.next=4,z(s,"myimage.jpg");case 4:t=e.sent,c.push(t),i=!0,u=n+50;case 8:if(!i){e.next=47;break}return o=Y(u),e.next=12,z(o,"myimage2.jpg");case 12:return a=e.sent,e.next=15,H(t,a,4);case 15:if(!e.sent){e.next=44;break}h("Found new slide!"),p=!0,d=[];case 19:if(!p){e.next=44;break}return j=Y(u-=5),e.next=24,z(j,"rev.jpg");case 24:return b=e.sent,d.push(b),console.log(u),e.next=29,H(b,t,4);case 29:if(e.sent){e.next=42;break}return u+=5,e.next=33,K(n,u,"out.mp4");case 33:f=e.sent,console.log(n,u),I((function(e){return e.concat(Object(r.jsx)(m,{vid:f,img:t,time:Y(u)},n))})),F((function(e){return e+1})),n=u+1,d.forEach((function(e){URL.revokeObjectURL(e),console.log(e)})),c.forEach((function(e){URL.revokeObjectURL(e),console.log(e)})),i=!1,p=!1;case 42:e.next=19;break;case 44:u+=50,e.next=8;break;case 47:v((n+=50)+" 50");case 49:case"end":return e.stop()}}),e)}));case 11:if(!(n<t)){e.next=15;break}return e.delegateYield(a(),"t2",13);case 13:e.next=11;break;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){return new Date(1e3*e).toISOString().substr(11,8)},z=function(){var e=Object(p.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.run.apply(A,Object(u.a)("-ss ".concat(t," -i vid.mp4 -vframes 2 -q:v 2 ").concat(n).split(" ")));case 2:return e.abrupt("return",G(n));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.FS("readFile",t);case 2:return n=e.sent,e.abrupt("return",URL.createObjectURL(new Blob([n.buffer],{type:"image/jpeg"})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var t=Object(p.a)(l.a.mark((function t(n,r,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f()(n).compareTo(r).onComplete((function(t){e=t.rawMisMatchPercentage>a}));case 2:return t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Y(t)),e.next=3,A.run.apply(A,Object(u.a)("-i vid.mp4 -ss ".concat(Y(t)," -to ").concat(Y(n)," -c:v copy -c:a copy ").concat(r).split(" ")));case 3:return e.next=5,A.FS("readFile",r);case 5:return a=e.sent,e.abrupt("return",URL.createObjectURL(new Blob([a.buffer],{type:"video/mp4"})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("p",{}),Object(r.jsx)("video",{src:c,width:"250",controls:!0,onLoadedMetadata:function(e){V(e.target.duration)}}),Object(r.jsx)("br",{}),Object(r.jsx)("img",{width:"250",src:M}),Object(r.jsx)("img",{width:"250",src:E}),Object(r.jsxs)("p",{children:["Measured Difference: ",g]}),Object(r.jsxs)("p",{children:["Number of slides: ",S]}),Object(r.jsx)("p",{children:j}),Object(r.jsx)("input",{type:"file",onChange:function(e){q(e.target.files[0])}}),Object(r.jsx)("button",{onClick:J,children:"Upload!"}),Object(r.jsx)("div",{className:"slides",children:T})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root")),O()}},[[54,1,2]]]);
//# sourceMappingURL=main.b094002a.chunk.js.map