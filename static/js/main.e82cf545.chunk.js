(this.webpackJsonptranscode2=this.webpackJsonptranscode2||[]).push([[0],{28:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(18),i=n.n(s),u=(n(28),n(22)),o=n(2),d=n.n(o),l=n(4),p=n(3),b=n(10),m=n(19),f=n.n(m),j=(n(56),n(20));var O=function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"slide",children:[Object(r.jsx)("p",{className:"timeStamp",children:e.time}),Object(r.jsx)("video",{src:e.vid,width:"32%",controls:!0}),Object(r.jsx)("p",{className:"text",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Sit amet purus gravida quis blandit. Velit aliquet sagittis id consectetur purus ut faucibus pulvinar elementum. Suspendisse faucibus interdum posuere lorem ipsum dolor. Tellus elementum sagittis vitae et leo. Orci ac auctor augue mauris augue neque gravida in. Blandit cursus risus at ultrices mi. Ac tortor vitae purus faucibus ornare suspendisse. Mauris sit amet massa vitae tortor condimentum. Dolor morbi non arcu risus quis. Mi in nulla posuere sollicitudin aliquam ultrices sagittis orci a. Risus sed vulputate odio ut enim blandit volutpat maecenas. Bibendum ut tristique et egestas quis ipsum suspendisse. Eget gravida cum sociis natoque penatibus et magnis. Feugiat vivamus at augue eget arcu. Etiam dignissim diam quis enim. Nunc sed blandit libero volutpat sed cras ornare arcu dui. Pharetra pharetra massa massa ultricies mi. Sit "})]})})};n(11),n(21);var v=function(){var e,t=Object(a.useState)(),n=Object(p.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(),o=Object(p.a)(i,2),m=o[0],v=o[1],x=Object(a.useState)(),h=Object(p.a)(x,2),g=(h[0],h[1],Object(a.useState)()),w=Object(p.a)(g,2),S=(w[0],w[1],Object(a.useState)(!1)),k=Object(p.a)(S,2),F=(k[0],k[1]),y=Object(a.useState)([]),q=Object(p.a)(y,2),L=q[0],N=q[1],R=Object(a.useRef)(null),C=Object(a.useRef)(null),T=Object(a.useState)(0),U=Object(p.a)(T,2),B=U[0],M=U[1],I=Object(a.useState)("input"),P=Object(p.a)(I,2),D=P[0],E=P[1],A=Object(b.createFFmpeg)({log:!1});Object(a.useEffect)((function(){(e=R.current.getContext("2d")).drawImage(C.current,0,0,R.width,R.height)}));var J,V=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=6;break}return E("inputHidden"),setTimeout((function(){E("hidden")}),2e3),e.next=5,s(URL.createObjectURL(new Blob([m],{type:"video/mp4"})));case 5:F(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Y=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.load();case 2:return e.t0=A,e.next=5,Object(b.fetchFile)(m);case 5:e.t1=e.sent,e.t0.FS.call(e.t0,"writeFile","vid.mp4",e.t1),4,n=0,a=d.a.mark((function e(){var a,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(n),e.next=3,G(n);case 3:a=e.sent,c=!0,s=n+1;case 6:if(!c){e.next=27;break}return M(s/t*100),z(s),e.next=11,G(s);case 11:return u=e.sent,e.next=14,K(a,u,4);case 14:if(e.t0=e.sent,!e.t0){e.next=17;break}e.t0=s-n>30;case 17:if(!e.t0){e.next=24;break}return e.next=20,Q(n,s,"out.mp4");case 20:i=e.sent,N((function(e){return e.concat(Object(r.jsx)(O,{vid:i,img:a,time:z(n)},n))})),c=!1,n=s+2;case 24:s+=1,e.next=6;break;case 27:n+=1;case 28:case"end":return e.stop()}}),e)}));case 10:if(!(n<t)){e.next=14;break}return e.delegateYield(a(),"t2",12);case 12:e.next=10;break;case 14:M(0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){return new Date(1e3*e).toISOString().substr(11,8)},G=function(){var t=Object(l.a)(d.a.mark((function t(n,r){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return C.current.currentTime=t.sent,t.next=5,e.drawImage(C.current,0,0,R.current.width,R.current.height);case 5:return t.next=7,R.current.toDataURL();case 7:return a=t.sent,t.next=10,H(50);case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(t).compareTo(n).onComplete((function(e){J=e.rawMisMatchPercentage>r}));case 2:return e.sent,e.abrupt("return",J);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(z(t)),e.next=3,A.run.apply(A,Object(u.a)("-i vid.mp4 -ss ".concat(z(t)," -to ").concat(z(n)," -c:v copy -c:a copy ").concat(r).split(" ")));case 3:return e.next=5,A.FS("readFile",r);case 5:return a=e.sent,e.abrupt("return",URL.createObjectURL(new Blob([a.buffer],{type:"video/mp4"})));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("div",{className:"header",children:Object(r.jsx)("h1",{className:"name",children:"Slides to Article"})}),Object(r.jsx)(j.a,{color:"#f11946",progress:B,onLoaderFinished:function(){return M(0)}}),Object(r.jsxs)("div",{className:D,children:[Object(r.jsx)("h1",{children:"Upload a file to get started"}),Object(r.jsx)("input",{type:"file",onChange:function(e){v(e.target.files[0])}}),Object(r.jsx)("button",{onClick:V,children:"Upload!"})]}),Object(r.jsx)("video",{className:"mainVid",ref:C,src:c,width:"250",controls:!0,onLoadedMetadata:function(e){Y(e.target.duration)}}),Object(r.jsx)("canvas",{ref:R}),Object(r.jsx)("div",{className:"slides",children:L})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root")),x()}},[[57,1,2]]]);
//# sourceMappingURL=main.e82cf545.chunk.js.map